<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE project>
<project name="shared" basedir=".">

    <target name="sanity.check" description="Ensures that the basic mandatory properties are set.">
        <fail unless="module.version" message="Module version is mandatory!" status="1" />
        <echo message="Module version is set to ${module.version}...FTW!" />
        <fail unless="java.target.version" message="Java target version is mandatory!" status="1" />
        <echo message="Java target version is set to ${java.target.version}...FTW!" />
    </target>

    <target name="clean.tmp" description="Cleans the tmp directory.">
        <delete dir="${tmp.dir}" />
    </target>

    <target name="clean.lib" description="Cleans the libs directory.">
        <delete dir="${lib.dir}" />
    </target>

    <target name="clean" depends="clean.tmp, clean.lib" description="Cleans the project (removes tmp and libs)." />

    <target name="build" depends="sanity.check, clean.tmp, init, ivy.resolve, javac" description="Resolves dependencies and compiles the project." />

    <target name="test" depends="build, unittest" description="Builds and tests the project." />

    <target name="fullclean" depends="clean" description="Delete classes, generated source and deployment directory">
      <delete dir="${deploy.dir}"/>
      <mkdir dir="${deploy.dir}"/>
    </target>
</project>
